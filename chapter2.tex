\chapter{收敛性}

从本章开始, 我们终于进入分析的领域. 数学的这一分支在很大程度上是建立在 ``收敛'' 这一概念之上的. 借助收敛, 我们在某种意义上得以把无穷多个数 (或向量) ``加'' 在一起. 能够处理这样的无限运算, 正是分析与代数之间本质区别之所在.

试图把关于数列收敛的朴素想法加以公理化, 会自然地引出 ``距离''、``点的邻域'' 以及 ``度量空间'' 等概念---这正是第 1 节的主题. 在数列这一特殊情形中, 我们可以利用数域 $\K$ 的向量空间结构, 对这种情形下各种证明的分析表明: 只要有某种类似 ``绝对值'' 的概念可用, 其中大多数证明都可以推广到向量空间中的向量序列. 于是我们很自然地被引向去定义 ``赋范向量空间''---度量空间中一个尤其重要的类别.

在所有赋范向量空间中, 内积空间由于其结构更为丰富而显得格外重要, 并且它们的几何性质与我们熟悉的平面 Euclidean 几何非常相似. 事实上, 在初等分析中, 最重要的一类内积空间就是 $m$-维 Euclidean 空间 $\R^m$ 和 $\C^m$.

在第 4 和第 5 节中, 我们回到最简单的情形, 也就是在 $\R$ 中的收敛问题. 借助实数的序结构, 尤其是 $\R$ 的序完备性, 我们推导出第一批 ``具体的收敛判别准则''. 这些准则使我们能够求出许多重要数列的极限. 除此之外, 我们还将从 $\R$ 的序完备性出发, 得到一个根本性的存在性原理---Bolzano-Weierstrass 定理.

第 6 节专门讨论度量空间中的 ``完备性'' 概念. 将这一概念限制到赋范向量空间, 就得到了 ``Banach 空间'' 的定义. 这类空间最基本的例子就是 $\K^m$, 但我们还将说明: 有界函数构成的函数空间也是 Banach 空间.

Banach 空间在分析中无处不在, 因此在本书的叙述中居于核心地位. 即便如此, 它们的结构仍然足够简单, 使得初学者可以在不太费力的情况下, 从理解实数自然过渡到理解 Banach 空间. 再者, 对这些空间的较早引入, 也使得我们在后面章节中能够给出简洁而优美的证明.

为了内容的完整性, 也为了读者整体 (数学) 素养的培养, 我们在第 6 节中给出 Cantor 关于 ``序完备的有序域存在性'' 的证明, 这个证明是通过对 $\Q$ 进行 ``完备化'' 而得到的.

在本章余下的各节中, 我们将讨论级数的收敛性. 在第 7 节里, 我们会学习级数的基本性质, 并讨论若干最重要的例子. 这样一来, 我们就能够研究实数的十进制表示以及其他形式的表示, 从而证明实数集是不可数集.

在所有收敛级数当中, 绝对收敛的级数具有尤为重要的地位. 绝对收敛往往比较容易判别, 这类级数在运算与处理上也相对简单. 此外, 在实际应用中许多重要的级数都是绝对收敛的. 对于本章最后一节将要引入和研究的幂级数, 这一点尤为明显. 其中最重要的例子是指数级数, 它的重要性将在后续章节中逐渐显现出来.

\newpage

\section{序列的收敛性}

在本节中, 我们考虑定义在自然数集上的函数, 因此这类函数只会取到可数多个值. 对这样的函数 $\varphi \colon \N \to X$, 我们特别关心的是它在 ``当 $n$ 趋于无穷大时'' 各个取值 $\varphi(n)$ 的行为. 由于我们实际上只能对 $\varphi$ 进行有限次求值, 也就是说, 我们永远不可能真正 ``到达无穷大'', 因此必须发展出一些方法, 使我们能够对 ``靠近无穷远处'' 的无穷多个函数值建立命题并加以证明. 这样的方法就构成了收敛序列的理论, 本节将对其进行介绍.

\subsection{序列}

\begin{definition}[序列]
    设 $X$ 是集合. 称函数
    $$
    \varphi \colon \N \to X
    $$
    是 $X$ 中的序列, 记作
    $$
    (x_n)\ ,\quad (x_n)_{n \in \N}\quad \text{或}\quad (x_0, x_1, x_2, \ldots)\ ,
    $$
    并称
    $$
    x_n \coloneqq \varphi(n)
    $$
    是序列的第 $n$ 项.
\end{definition}

\begin{definition}[数列]
    $\K$ 中的序列称为数列. 进一步, 将 $\K$ 中的所有数列, 即 $\K^\N$ 记作 $s$ 或 $s(\K)$, 于是 $s$ 构成了 $\K$-向量空间 (见例 \ref{eg:vector-spaces}.5). 最后, $\R$ 中的数列称为实数列, $\C$ 中的数列称为复数列.
\end{definition}

\begin{remark}
    \begin{enumerate}
        \item 区分序列 $(x_n)$ 和它的像 $\set{x_n}{n \in \N}$ 是很重要的. 例如, 若对于任意 $n$ 有 $x_n = x$, 也就是说 $(x_n)$ 是一个常序列, 此时 $(x_n) = (x, x, x, \ldots)$, 而 $\set{x_n}{n \in \N}$ 是单点集 $\{x\}$.
        \item 设 $(x_n)$ 是 $X$ 中的序列, $E$ 是某个性质. 称 $E$ 对 $(x_n)$ 的几乎所有项都成立, 若存在 $m \in \N$ 使得当 $n \geq m$ 时命题 $E(x_n)$ 都成立. 也就是说, 除了至多有限多个 $x_n$ 以外, $E$ 对其余所有 $x_n$ 都成立. 当然, $E$ 也可以对若干个 (甚至全部) $n < m$ 的项成立. 若存在 $N \subseteq \N$ 满足 $|N| = \aleph_0$ 且 $E(x_n)$ 对于所有 $n \in N$ 都成立, 则称 $E$ 对 $(x_n)$ 的无穷多项都成立. 例如, 实数列
        $$
        \Bigl(-5, 4, -3, 2, -1, 0, -\frac{1}{2}, \frac{1}{3}, -\frac{1}{4}, \frac{1}{5}, \ldots, -\frac{1}{2n}, \frac{1}{2n+1}, \ldots\Bigr)
        $$
        有无穷多个正项, 无穷多个负项, 并且对于几乎所有项都有其绝对值小于 $1$.
        \item 对于任意 $m \in \N^\ast$, 函数
        $$
        \psi \colon m + \N \to X
        $$
        也称为 $X$ 中的序列。也就是说,
        $$
        (x_j)_{j \geq m} = (x_m, x_{m+1}, x_{m+2}, \ldots)
        $$
        是 $X$ 中的序列, 尽管其下标不是从 $0$ 开始. 这种约定是合理的, 因为通过映射
        $$
        \N \to m + \N\ ,\quad n \mapsto m + n
        $$
        对下标进行 ``重新编号'' 之后, 这个 ``平移后的序列'' $(x_j)_{j \geq m}$ 就可以与通常意义下的序列 $(x_{m+k})_{k \in N} \in X^{\N}$ 对应起来.
    \end{enumerate}
\end{remark}

如果把复数列 $(z_n)_{n \geq 1}$ 的前几项画在复平面上, 其中 $z_n \coloneqq (1 - 1/n)(1 + \ii)$, 就会发现: 当 $n$ 增大时, 这些点 $z_n$ 会 ``任意接近'' $z \coloneqq 1 + \ii$. 换句话说, 随着 $n$ 的增大, $z_n$ 到 $z$ 的距离会变得 ``任意小''. 本节的目标, 就是把我们对于这类数列收敛的直观几何想法加以公理化, 使之能够推广应用到向量空间中的序列, 以及更抽象的集合中的序列上.

\begin{center}
\begin{tikzpicture}
    % 轴
    \draw[->] (-0.5,0) -- (4,0) node[right]{$\R$};
    \draw[->] (0,-0.5) -- (0,4) node[above]{$\ii \R$};
    % z1 在原点
    \fill (0,0) circle (1.5pt) node[below right]{$z_1$};
    % 序列点 z2, z3, z4, ...
    \fill (1.75,1.75) circle (1.5pt) node[below right]{$z_2$};
    \fill (2.1,2.1) circle (1.5pt) node[below right]{$z_3$};
    \fill (2.4,2.4) circle (1.5pt) node[below right]{$z_4$};
    % 中间的若干点（不标记）
    \foreach \x/\y in {2.6/2.6,2.7/2.7,3.2/3.2,3.3/3.3} \fill (\x,\y) circle (1pt);
    % 极限点 z
    \fill (3.5,3.5) circle (1.5pt) node[below right]{$z$};
\end{tikzpicture}
\end{center}

首先我们要意识到, ``距离'' 这一概念居于核心地位. 在数域 $\K$ 中, 我们可以借助绝对值函数来确定两点之间的距离. 若要研究某个任意集合 $X$ 中序列的收敛性, 我们首先需要在 $X$ 上赋予一种结构, 使得可以在 $X$ 的任意两个元素之间定义 ``距离''.

\subsection{度量空间}

\begin{axiom}[度量]\label{ax:metric}
    设 $X$ 是集合, 其上定义了函数
    $$
    d \colon X \times X \to \R\ .
    $$
    若对于任意 $x,y,z \in X$ 都有
    \begin{enumerate}[label={$(\mathrm M_{\arabic*})$}]
        \item (同一性) $d(x,y) = 0$ 当且仅当 $x = y$.
        \item (对称性) $d(x,y) = d(y,x)$.
        \item (三角不等式) $d(x,y) \leq d(x,z) + d(z,y)$.
    \end{enumerate}
    则称 $d$ 是 $X$ 上的度量. 进一步, 称 $(X,d)$ 是度量空间.
\end{axiom}

当度量在上下文中明确时, 我们把 $(X,d)$ 简写为 $X$. 最后, 我们称 $d(x,y)$ 是度量空间 $X$ 中点 $x$ 和 $y$ 之间的距离.

\hyperref[ax:metric]{$(\mathrm M_1)$}-\hyperref[ax:metric]{$(\mathrm M_3)$} 显然是对 ``距离函数'' 非常自然的要求. 举例来说, \hyperref[ax:metric]{$(\mathrm M_3)$} 可以被看作这样一条规则的公理化表述: ``从 $x$ 到 $y$ 的 `直达路径' 比先从 $x$ 到 $z$ 再从 $z$ 到 $y$ 的路径更短''.

\begin{proposition}[度量的非负性]
    设 $(X,d)$ 是度量空间. 则
    $$
    d(x,y) \geq 0\ ,\quad x,y \in X\ .
    $$
\end{proposition}

\begin{proof}
    设 $x,y \in X$. 由度量的性质可得
    $$
    0 = d(x,x) \leq d(x,y) + d(y,x) = d(x,y) + d(x,y) = 2d(x,y)\ .
    $$
\end{proof}

\begin{definition}[开球和闭球]
    设 $(X,d)$ 是度量空间, $a \in X$, $r > 0$. 称集合
    $$
    \ball(a,r) \coloneqq \set{x \in X}{d(x,a) < r}
    $$
    是以 $a$ 为中心, $r$ 为半径的开球. 并称集合
    $$
    \bar\ball(a,r) \coloneqq \set{x \in X}{d(x,a) \leq r}
    $$
    是以 $a$ 为中心, $r$ 为半径的闭球.
\end{definition}

\begin{example}\label{eg:metric}
    \begin{enumerate}
        \item 函数
        $$
        |\cdot| \colon \K \times \K \to \R\ ,\quad (x,y) \mapsto |x - y|
        $$
        是 $\K$ 上的度量, 称为自然度量. 除非另有说明, 否则默认 $\K$ 配备该度量, 并将其视为一个度量空间.
        \item 设 $(X,d)$ 是度量空间, $Y$ 是 $X$ 的非空子集. 则把 $d$ 限制在 $Y \times Y$ 上所得的函数
        $$
        d_Y \coloneqq d\vert_{Y \times Y}
        $$
        是 $Y$ 上的度量, 称为诱导度量. 进一步, 称 $(Y, d_Y)$ 是 $(X,d)$ 的子空间. 在不会引起混淆的情况下, 我们往往直接写 $d$, 而不特别区分 $d_Y$.
        \item $\C$ 的任意非空子集, 在从 $\C$ 的自然度量诱导出来的度量之下, 都是度量空间. 以这种方式在 $\R$ 上得到的度量, 正好就是在例 \ref{eg:metric}.1 中定义的那个自然度量.
        \item 设 $X$ 是非空集合. 则函数
        $$
        d \colon X \times X \to \R\ ,\quad (x,y) \mapsto
        \begin{cases}
            & 1\ , & x \neq y\ , \\
            & 0\ , & x = y\ ,
        \end{cases}
        $$
        是 $X$ 上的度量, 称为离散度量.
        \item 设 $(X_j, d_j),\ 1 \leq j \leq m$ 是度量空间, $X \coloneqq X_1 \times \cdots \times X_m$. 则函数
        $$
        d(x,y) \coloneqq \max_{1 \leq j \leq m} d_j(x_j, y_j)\ ,\quad x \coloneqq (x_1, \ldots, x_m) \in X\ ,\quad y \coloneqq (y_1, \ldots, y_m) \in X
        $$
        是 $X$ 上的度量, 称为积度量. 进一步, 称 $(X,d)$ 是 $(X_j, d_j),\ 1 \leq j \leq m$ 的积空间. 可以验证, 对于任意 $a \coloneqq (a_1, \ldots, a_m) \in X$ 以及 $r > 0$, 都有
        $$
        \ball_X(a,r) = \prod_{j=1}^m \ball_{X_j}(a_j, r)\ ,\quad \bar\ball_X(a,r) = \prod_{j=1}^m \bar\ball_{X_j}(a_j, r)\ .
        $$
    \end{enumerate}
\end{example}

\begin{proof}
    1. 由命题 \ref{prop:abs-in-Q} 可以直接验证 $|\cdot|$ 满足度量公理.
\end{proof}

度量公理的一个重要结论是反三角不等式 (见推论 \ref{cor:reversed-triangle-inequality-in-Q}).

\begin{proposition}[反三角不等式]\label{prop:reversed-triangle-inequality-in-metric-space}
    设 $(X,d)$ 是度量空间. 则
    $$
    d(x,y) \geq |d(x,z) - d(z,y)|\ ,\quad x,y,z \in X\ .
    $$
\end{proposition}

\begin{proof}
    设 $x,y,z \in X$. 由 $d(x,z) \leq d(x,y) + d(y,z)$ 可得
    $$
    d(x,y) \geq d(x,z) - d(z,y)\ ,
    $$
    交换 $x$ 和 $y$ 可得
    $$
    d(x,y) = d(y,x) \geq d(y,z) - d(z,x) = -\bigl(d(x,z) - d(z,y)\bigr)\ ,
    $$
    即 $d(x,y) \geq |d(x,z) - d(z,y)|$.
\end{proof}

\begin{definition}[邻域]
    设 $X$ 是度量空间, $U \subseteq X$, $a \in X$. 若存在 $r > 0$ 使得 $\ball(a,r) \subseteq U$, 则称 $U$ 是 $a$ 的邻域. 进一步, 将 $a$ 的邻域的全体记作
    $$
    \nbr(a) \coloneqq \set{U \subseteq X}{U\ \text{是}\ a\ \text{的邻域}}\ .
    $$
\end{definition}

\begin{example}
    设 $X$ 是度量空间, $a \in X$.
    \begin{enumerate}
        \item 对于每个 $\varepsilon > 0$, $\ball(a, \varepsilon)$ 和 $\bar\ball(a, \varepsilon)$ 都是 $a$ 的邻域, 称为 $a$ 的开 $\varepsilon$-邻域 和闭 $\varepsilon$-邻域.
        \item 显然 $X \in \nbr(a)$. 若 $U_1, U_2 \in \nbr(a)$, 则 $U_1 \cap U_2$ 和 $U_1 \cup U_2$ 也是 $a$ 的邻域. 任意包含了 $a$ 的邻域的集合同样是 $a$ 的邻域.
        \item 设 $X \coloneqq [0,1]$ 配备了在 $\R$ 上诱导的度量. 则 $[1/2, 1]$ 是 $1$ 的邻域, 但不是 $1/2$ 的邻域.
    \end{enumerate}
\end{example}

\begin{proof}
    2. 设 $U_1, U_2 \in \nbr(a)$. 故存在 $r_1, r_2 > 0$ 使得 $\ball(a, r_1) \in U_1$  和 $\ball(a, r_2) \in U_2$. 令 $r = \min\{r_1, r_2\}$, 于是
    $$
    \ball(a,r) \subseteq U_1 \cap U_2 \subseteq U_1 \cup U_2\ ,
    $$
    即 $U_1 \cap U_2$ 和 $U_1 \cup U_2$ 是 $a$ 的邻域.
\end{proof}

\begin{center}
    \kaishu 在本节的其余部分里, 设 $X \coloneqq (X,d)$ 是度量空间, $(x_n)$ 是 $X$ 中的序列.
\end{center}

\subsection{聚点}

\begin{definition}[聚点]
    称 $a \in X$ 是 $(x_n)$ 的聚点, 若 $a$ 的每个邻域都包含了 $(x_n)$ 的无穷多项.
\end{definition}

在讨论一些具体例子之前, 先给出下面这个关于聚点的刻画会对之后的讨论很有帮助.

\begin{proposition}\label{prop:cluster-points-charact}
    以下命题是等价的.
    \begin{enumerate}
        \item $a$ 是 $(x_n)$ 的聚点.
        \item 对于任意 $U \in \nbr(a)$ 和 $m \in \N$, 存在 $n \geq m$ 使得 $x_n \in U$.
        \item 对于任意 $\varepsilon > 0$ 和 $m \in \N$, 存在 $n \geq m$ 使得 $x_n \in \ball(a, \varepsilon)$.
    \end{enumerate}
\end{proposition}

\begin{proof}
    由聚点的定义可以直接得到.
\end{proof}

\begin{example}
    \begin{enumerate}
        \item 实数列 $\bigl((-1)^n\bigr)$ 有两个聚点, $1$ 和 $-1$.
        \item 复数列 $(\ii^n)$ 有四个聚点, $\pm 1$ 和 $\pm \ii$.
        \item 常序列 $(x,x,x,\ldots)$ 有唯一的聚点 $x$.
        \item 自然数序列 $(n)$ 没有聚点.
        \item 设 $\varphi \colon \N \to \Q$ 是双射 (由命题 \ref{prop:Q-is-countable} 可知这样的函数存在). 定义序列 $(x_n)$, 其中 $x_n \coloneqq \varphi(n),\ n \in \N$. 则每个实数都是 $(x_n)$ 的聚点.
    \end{enumerate}
\end{example}

\begin{proof}
    5. 假设 $a \in \R$ 不是 $(x_n)$ 的聚点. 由命题 \ref{prop:cluster-points-charact} 可知, 存在 $\varepsilon > 0$ 和 $m \in \N$, 使得
    $$
    x_n \notin \ball(a, \varepsilon) = (a - \varepsilon, a + \varepsilon)\ ,\quad n \geq m\ .
    $$
    这意味着区间 $(a - \varepsilon, a + \varepsilon)$ 仅包含了有限多个有理数, 这与命题 \ref{prop:Q-density-in-R} 矛盾.
\end{proof}

\subsection{收敛性}

\begin{definition}[收敛]
    称序列 $(x_n)$ 收敛, 若存在 $a \in X$ 使得 $a$ 的任意邻域都包含了 $(x_n)$ 的几乎所有项. 记作
    $$
    \lim_{n \to \infty} x_n = a\quad \text{或}\quad x_n \to a\ (n \to \infty)\ ,
    $$
    并称当 $n$ 趋于无穷大时, $(x_n)$ 收敛到 $a$ 或以 $a$ 为极限. 若 $(x_n)$ 不收敛, 则称 $(x_n)$ 发散.
\end{definition}

这个定义中最核心的部分是要求: 极限的每个邻域都包含该序列的几乎所有项. 在 $X = \K$ 的情形下, 这一要求正对应于那种 $x_n$ 到 $a$ 的距离 ``变得任意小'' 的几何直觉. 如果 $a$ 是 $(x_n)$ 的聚点且 $U$ 是 $a$ 的邻域, 那么当然, $U$ 会包含序列的无穷多项, 但同时也有可能序列的无穷多项也不落在 $U$ 中.

下一个命题是对收敛的等价刻画.

\begin{proposition}\label{prop:convergent-sequence-charact}
    以下命题是等价的.
    \begin{enumerate}
        \item $\lim x_n = a$.
        \item 对于任意 $U \in \nbr(a)$, 存在 $N \in \N$ 使得当 $n \geq N$ 时 $x_n \in U$.
        \item 对于任意 $\varepsilon > 0$, 存在 $N \in \N$ 使得当 $n \geq N$ 时 $x_n \in \ball(a, \varepsilon)$.
    \end{enumerate}
\end{proposition}

\begin{proof}
    由收敛的定义可以直接得到.
\end{proof}

下面这些例子都比较简单. 对于更复杂的例子, 我们需要第 4 节发展出的那些方法.

\begin{example}\label{eg:ez-convergent-sequence}
    \begin{enumerate}
        \item 设实数列 $(1/n)_{n \in \N^\ast}$, 则 $\lim 1/n = 0$.
        \item 设复数列 $(z_n)$, 其中
        $$
        z_n \coloneqq \frac{n+2}{n+1} + \ii \frac{2n}{n+2}\ ,
        $$
        则 $\lim z_n = 1 + 2\ii$.
        \item 常序列 $(a,a,a,\ldots)$ 收敛到 $a$.
        \item 实数列 $\bigl((-1)^n\bigr)$ 发散.
        \item 设 $X$ 是度量空间 $(X_j, d_j),\ 1 \leq j \leq m$ 的积空间. 则序列 $(x_n) = \bigl((x_n^1, \ldots, x_n^m)\bigr)$ 收敛到点 $a \coloneqq (a^1, \ldots, a^m) \in X$ 当且仅当对于每个 $j \in \{1, \ldots, m\}$ 都有序列 $(x_n^j)$ 收敛到点 $a^j \in X_j$.
    \end{enumerate}
\end{example}

\begin{proof}
    1. 任取 $\varepsilon > 0$. 由推论 \ref{cor:archimedean-property-cor} 可知, 存在 $N \in \N^\ast$ 使得 $1/N < \varepsilon$, 于是
    $$
    \frac{1}{n} \leq \frac{1}{N} < \varepsilon\ ,\quad n \geq N\ ,
    $$
    即当 $n \geq N$ 时 $1/n \in \ball(0, \varepsilon)$.

    2. 任取 $\varepsilon > 0$. 由推论 \ref{cor:archimedean-property-cor} 可知, 存在 $N \in \N$ 使得 $1/N < \varepsilon / 8$, 此时有
    $$
    \left(\frac{n+2}{n+1} - 1\right)^2 = \left(\frac{1}{n+1}\right)^2 < \frac{1}{N^2} < \frac{\varepsilon^2}{64} < \frac{\varepsilon^2}{2}\ ,\quad n \geq N\ ,
    $$
    和
    $$
    \left(\frac{2n}{n+2} - 2\right)^2 = \left(\frac{4}{n+2}\right)^2 < \frac{16}{N^2} < \frac{\varepsilon^2}{4} < \frac{\varepsilon^2}{2}\ ,\quad n \geq N\ ,
    $$
    于是
    \begin{align*}
        |z_n - (1 + 2\ii)| &= \abs*{\frac{1}{n+1} - \ii \frac{4}{n+2}} \\
        &= \sqrt{\left(\frac{1}{n+1}\right)^2 + \left(-\frac{4}{n+2}\right)^2} < \sqrt{\frac{\varepsilon^2}{2} + \frac{\varepsilon^2}{2}} < \varepsilon\ ,\quad n \geq N\ ,
    \end{align*}
    即当 $n \geq N$ 时 $z_n \in \ball\bigl((1 + 2\ii), \varepsilon\bigr)$.

    5. $\implies$. 设 $(x_n)$ 收敛到点 $a$. 则任取 $\varepsilon > 0$, 存在 $N \in \N$ 使得
    $$
    x_n = (x_n^1, \ldots, x_n^m) \in \ball_X(a, \varepsilon) = \prod_{j=1}^m \ball_{X_j}(a^j, \varepsilon)\ ,\quad n \geq N\ ,
    $$
    即当 $n \geq N$ 时, 对于每个 $j$ 都有 $x_n^j \in \ball_{X_j}(a^j, \varepsilon)$.

    $\impliedby$. 设对于每个 $j$ 都有 $(x_n^j)$ 收敛到点 $a^j$. 任取 $\varepsilon > 0$, 对于每个 $j$ 都存在 $N_j \in \N$ 使得当 $n \geq N_j$ 时 $x_n^j \in \ball_{X_j}(a^j, \varepsilon)$. 令 $N = \max_{1 \leq j \leq m} N_j$, 于是
    $$
    (x_n^1, \ldots, x_n^m) = x_n \in \prod_{j=1}^m \ball_{X_j}(a^j, \varepsilon) = \ball_X(a, \varepsilon)\ ,\quad n \geq N\ .
    $$
\end{proof}

\subsection{有界集合}

\begin{definition}[有界性]
    称集合 $Y \subseteq X$ 在 $X$ 中 $d$-有界或有界, 若存在 $M > 0$ 使得对于任意 $x,y \in Y$ 都有 $d(x,y) \leq M$. 进一步, 称
    $$
    \diam Y \coloneqq \sup_{x,y \in Y} d(x,y)
    $$
    是 $Y$ 的直径. 最后, 称序列 $(x_n)$ 有界, 若它的像 $\set{x_n}{n \in \N}$ 有界.
\end{definition}

\begin{example}\label{eg:bounded-sets}
    \begin{enumerate}
        \item 对于任意 $a \in X$ 和 $r > 0$, $\ball(a,r)$ 和 $\bar\ball(a,r)$ 在 $X$ 中有界.
        \item 有界集合的每个子集都是有界的. 有界集合的有限并是有界的.
        \item 集合 $Y \subseteq X$ 在 $X$ 中有界, 当且仅当存在 $x \in X$ 和 $r > 0$ 使得 $Y \subseteq \ball_X(x,r)$. 若 $Y \neq \varnothing$, 则存在 $x \in Y$ 也满足该性质.
        \item 有界区间是有界的.
        \item 集合 $Y \subseteq \K$ 有界, 当且仅当存在 $M > 0$ 使得对于任意 $y \in Y$ 都有 $|y| \leq M$.
    \end{enumerate}
\end{example}

\begin{proposition}[有界性]\label{prop:convergent-sequence-is-bounded}
    收敛序列必有界.
\end{proposition}

\begin{proof}
    设序列 $(x_n)$ 收敛到点 $a$. 则存在 $N \in \N$ 使得对于任意 $n \geq N$ 有 $x_n \in \ball(a,1)$. 由三角不等式可得
    $$
    d(x_n, x_m) \leq d(x_n, a) + d(a, x_m) < 2\ ,\quad m,n \geq N\ .
    $$
    令 $M = \max_{m,n < N} d(x_n, x_m)$, 有
    $$
    d(x_n, x_m) \leq M\ ,\quad m,n < N\ .
    $$
    于是对于任意 $m,n \in \N$ 都有 $d(x_n, x_m) \leq M + 2$.
\end{proof}

\subsection{极限的唯一性}

\begin{proposition}\label{prop:limit-point-is-unique-cluster-point}
    设序列 $(x_n)$ 收敛到点 $a$. 则 $a$ 是 $(x_n)$ 唯一的聚点.
\end{proposition}

\begin{proof}
    显然 $a$ 是 $(x_n)$ 的聚点, 现证明唯一性. 假设 $b$ 是 $(x_n)$ 的聚点且 $a \neq b$. 取 $\varepsilon = d(a,b) / 2$, 则存在 $N \in \N$ 使得当 $n \geq N$ 时 $x_n \in \ball(a, \varepsilon)$. 而 $b$ 是 $(x_n)$ 的聚点, 故存在 $m \geq N$ 使得 $x_m \in \ball(b, \varepsilon)$. 由命题 \ref{prop:reversed-triangle-inequality-in-metric-space} 可知
    $$
    d(a, x_m) \geq |d(a, b) - d(b, x_m)| > 2\varepsilon - \varepsilon = \varepsilon\ ,
    $$
    即 $x_m \notin \ball(a, \varepsilon)$, 矛盾, 因此 $b$ 不是 $(x_n)$ 的聚点.
\end{proof}

\begin{remark}
    命题 \ref{prop:limit-point-is-unique-cluster-point} 的逆命题不成立, 也就是说, 存在发散但具有唯一聚点的序列. 例如, $(1/2, 2, 1/3, 3, 1/4, 4, \ldots)$.
\end{remark}

\begin{corollary}[唯一性]
    收敛序列的极限唯一.
\end{corollary}

\begin{proof}
    由命题 \ref{prop:limit-point-is-unique-cluster-point} 可以直接得到.
\end{proof}

\subsection{子序列}

\begin{definition}[子序列]
    设 $\varphi = (x_n)$ 是 $X$ 中的序列, $\psi \colon \N \to \N$ 是严格递增函数. 称 $\varphi \circ \psi$ 是 $\varphi$ 的子序列, 记作
    $$
    (x_{n_k})\quad \text{或}\quad (x_{n_k})_{{k \in \N}}\ ,
    $$
    其中 $n_k \coloneqq \psi(k)$.
\end{definition}

因为 $\psi$ 是严格递增的, 故 $n_0 < n_1 < n_2 < \cdots$.

\begin{example}
    数列 $\bigl((-1)^n\bigr)_{n \in \N}$ 有两个子数列, $\bigl((-1)^{2k}\bigr)_{k \in \N} = (1,1,1,\ldots)$ 和 $\bigl((-1)^{2k+1}\bigr)_{k \in \N} = (-1,-1,-1,\ldots)$.
\end{example}

\begin{proposition}\label{prop:convergent-sequence-to-subsequence}
    若序列 $(x_n)$ 收敛到点 $a$, 则 $(x_n)$ 的每个子序列 $(x_{n_k})$ 也收敛且以 $a$ 为极限.
\end{proposition}

\begin{proof}
    任取 $U \in \nbr(a)$. 则存在 $N \in \N$ 使得当 $n \geq N$ 时 $x_n \in U$. 由子序列的定义可知, 对于任意 $k \in \N$ 有 $n_k \geq k$, 因此当 $k \geq N$ 时 $n_k \geq N$, 于是 $x_{n_k} \in U$. 即 $(x_{n_k})$ 收敛到 $a$.
\end{proof}

\begin{example}
    当 $m \geq 2$ 时,
    $$
    \lim_{k \to \infty} \frac{1}{k^m} = 0\quad \text{且}\quad \lim_{k \to \infty} \frac{1}{m^k} = 0\ .
    $$
\end{example}

\begin{proof}
    令 $\psi_1(k) \coloneqq k^m$, $\psi_2(k) \coloneqq m^k$. 由于 $\psi_i \colon \N^\ast \to \N^\ast,\ i = 1,2$ 是严格递增的, 因此 $(k^{-m})$ 和 $(m^{-k})$ 是 $(1/n)$ 的子数列. 于是由例 \ref{eg:ez-convergent-sequence}.1 和 命题 \ref{prop:convergent-sequence-to-subsequence} 可得.
\end{proof}

下面的命题是对聚点的进一步刻画.

\begin{proposition}
    点 $a$ 是序列 $(x_n)$ 的聚点, 当且仅当存在 $(x_n)$ 的子序列 $(x_{n_k})$ 收敛到 $a$.
\end{proposition}

\begin{proof}
    $\implies$. 设 $a$ 是 $(x_n)$ 的聚点. 下面递归构造序列 $(n_k)$,
    $$
    n_0 \coloneqq 0\ ,\quad n_k \coloneqq \min\set{m \in \N}{m > n_{k-1}\ \text{且}\ x_m \in \ball(a, 1/k)}\ ,\quad k \in \N^\ast\ .
    $$
    由于 $a$ 是 $(x_n)$ 的聚点, 故
    $$
    \set{m \in \N}{m \geq n_{k-1}\ \text{且}\ x_m \in \ball(a, 1/k)} \neq \varnothing\ ,\quad k \in \N^\ast\ ,
    $$
    由良序原理可知, 对于每个 $k \in \N^\ast$, $n_k$ 是良定义的. 于是 $(n_k)$ 是良定义且严格递增的. 任取 $\varepsilon > 0$, 由推论 \ref{cor:archimedean-property-cor} 可知, 存在 $K \in \N$ 使得 $1/K < \varepsilon$, 由 $n_k$ 的定义可知
    $$
    x_{n_k} \in \ball(a, 1/k) \subseteq \ball(a, \varepsilon)\ ,\quad k \geq K\ ,
    $$
    即 $(x_{n_k})$ 收敛到 $a$.

    $\impliedby$. 设 $(x_n)$ 的子序列 $(x_{n_k})$ 收敛到 $a$. 任取 $U \in \nbr(a)$, $m \in \N$. 存在 $K \in \N$ 使得当 $k \geq \max\{m,K\}$ 时 $x_{n_k} \in U$, 因此 $a$ 是 $(x_n)$ 的聚点.
\end{proof}

\subsection{练习}

\begin{exercises}
    设 $d$ 是 $\K$ 上的离散度量, $X \coloneqq (\K,d)$.
    \begin{enumerate}
        \item 设 $a \in X$ 和 $r > 0$, 给出 $\ball_X(a,r)$ 和 $\bar\ball_X(a,r)$ 的具体描述.
        \item 描述 $X$ 中任意序列的聚点.
        \item 设 $a \in X$, 描述 $X$ 中所有收敛到 $a$ 的序列.
    \end{enumerate}
\end{exercises}

\begin{exercises}
    证明例 \ref{eg:metric}.5 的断言.
\end{exercises}

\begin{exercises}
    证明数列 $(z_n)_{n \geq 1}$ 其中 $z_n \coloneqq (1 - 1/n)(1 + \ii)$ 收敛到 $1 + \ii$.
\end{exercises}

\begin{exercises}
    证明例 \ref{eg:bounded-sets} 的断言.
\end{exercises}

\begin{exercises}
    找出复数列 $(z_n)$ 在下列情况下的全部聚点.
    \begin{enumerate}
        \item $z_n \coloneqq \bigl((1+\ii) / \sqrt{2}\bigr)^n$.
        \item $z_n \coloneqq \bigl(1 + (-1)^n\bigr) (n+1) n^{-1} + (-1)^n$.
        \item $z_n \coloneqq (-1)^n n / (n+1)$.
    \end{enumerate}
\end{exercises}

\begin{exercises}
    对于每个 $n \in \N$, 定义
    $$
    a_n \coloneqq n + \frac{1}{k} - \frac{k^2 + k - 2}{2}\ ,
    $$
    其中 $k \in \N^\ast$ 满足
    $$
    k^2 + k - 2 \leq 2n \leq k^2 + 3k - 2\ .
    $$
    证明 $(a_n)$ 是良定义的并找出其所有的聚点. (提示: 先把该数列的前几项具体算出来, 以便更好的把握整个数列的行为.)
\end{exercises}

\begin{exercises}
    对于每个 $m,n \in \N^\ast$, 定义
    $$
    d(m,n) \coloneqq
    \begin{cases}
    & (m+n) / mn\ , & m \neq n\ , \\
    & 0\ ,          & m = n\ ,
    \end{cases}
    $$
    证明 $(\N^\ast, d)$ 是度量空间, 对 $n \in \N^\ast$ 描述 $A_n \coloneqq \bar\ball(n, 1 + 1/n)$.
\end{exercises}

\begin{exercises}
    设 $X \coloneqq \set{z \in \C}{|z| \leq 3}$ 并配备自然度量. 描述 $\bar\ball_X(0,3)$ 和 $\bar\ball_X(2,4)$, 并证明 $\bar\ball_X(2,4) \subset \bar\ball_X(0,3)$.
\end{exercises}

\begin{exercises}[度量的等价]
    集合 $X$ 上的度量 $d_1$ 和 $d_2$ 被称为等价度量, 若对于每个 $x \in X$ 和 $\varepsilon > 0$, 存在 $r_1, r_2 > 0$ 使得
    $$
    \ball_1(x, r_1) \subseteq \ball_2(x, \varepsilon)\ ,\quad \ball_2(x, r_2) \subseteq \ball_1(x, \varepsilon)\ ,
    $$
    其中 $\ball_j$ 是 $(X,d_j),\ j = 1,2$ 中的开球. 现在, 设 $(X,d)$ 是度量空间,
    $$
    \delta(x,y) \coloneqq \frac{d(x,y)}{1 + d(x,y)}\ ,\quad x,y \in X\ .
    $$
    证明 $d$ 和 $\delta$ 是 $X$ 上的等价度量. (提示: 函数 $t \mapsto t/(1+t)$ 是递增的.)
\end{exercises}

\begin{exercises}
    设 $X \coloneqq (0,1)$. 证明以下命题.
    \begin{enumerate}
        \item $d(x,y) \coloneqq |(1/x) - (1/y)|$ 是 $X$ 上的度量.
        \item 自然度量和 $d$ 是等价的.
        \item 在 $\R$ 上不存在这样一个度量: 它与自然度量等价, 并且在 $X$ 上诱导出的度量是 $d$.
    \end{enumerate}
\end{exercises}

\begin{exercises}
    设 $(X_j, d_j),\ 1 \leq j \leq n$ 是度量空间, $X \coloneqq X_1 \times \cdots \times X_n$ 且 $d$ 是 $X$ 上的积度量. 证明
    $$
    \delta(x,y) \coloneqq \sum_{j=1}^n d_j(x_j, y_j)\ ,\quad x \coloneqq (x_1, \ldots, x_m) \in X\ ,\quad y \coloneqq (y_1, \ldots, y_m) \in X
    $$
    是 $X$ 上的度量且与 $d$ 等价.
\end{exercises}

\begin{exercises}[SNCF-度量]
    对于每个 $z,w \in \C$, 定义
    $$
    \delta(z,w) \coloneqq
    \begin{cases}
        & |z-w|\ ,     & \text{若存在}\ \lambda > 0\ \text{使得}\ z = \lambda w\ , \\
        & |z| + |w|\ , & \text{其余情况}\ .
    \end{cases}
    $$
    证明 $\delta$ 是 $\C$ 上的度量, 称为 SNCF-度量.
\end{exercises}

\begin{exercises}
    设 $(x_n)$ 是 $\C$ 中的数列且对于任意 $n \in \N$ 有 $\Re x_n = 0$. 证明, 若 $(x_n)$ 收敛到 $x$, 则 $\Re x = 0$.
\end{exercises}

\newpage

\section{实数列与复数列}

在本节中, 我们要推导出关于收敛数列计算的最重要的法则. 如果我们把这些数列看作向量空间 $s = s(\K) = \K^\N$ 中的向量, 那么这些法则将证明所有收敛数列构成了 $s$ 的子空间. 在实数列的情形下, 我们将利用 $\R$ 的序结构来推导比较审敛法, 而这是研究 $s(\R)$ 中数列收敛性的主要工具.

\subsection{无穷小量}

\begin{definition}[无穷小量]
    称 $\K$ 中的数列 $(x_n)$ 是无穷小量, 若 $(x_n)$ 收敛到 $0$. 进一步, 将 $\K$ 中的所有无穷小量记作
    $$
    c_0 \coloneqq c_0(\K) \coloneqq \set{(x_n) \in s}{(x_n)\ \text{收敛且}\ \lim x_n = 0}\ .
    $$
\end{definition}

\begin{remark}\label{rem:null-sequences}
    设 $(x_n)$ 是 $\K$ 中的数列, $a \in \K$.
    \begin{enumerate}
        \item $(x_n)$ 是无穷小量, 当且仅当其绝对值数列 $(|x_n|)$ 是 $\R$ 中的无穷小量.
        \item $(x_n)$ 收敛到 $a$, 当且仅当 ``平移后的数列'' $(x_n - a)$  是无穷小量.
        \item 若存在 $\R$ 中的无穷小量 $(r_n)$ 使得对于几乎所有 $n \in \N$ 都有 $|x_n| \leq r_n$, 则 $(x_n)$ 是无穷小量.
    \end{enumerate}
\end{remark}

\begin{proof}
    1. 由无穷小量的定义可以直接得到.

    2. 由命题 \ref{prop:convergent-sequence-charact} 可以直接得到.

    3. 任取 $\varepsilon > 0$. 由假设可知存在 $M,N \in \N$ 使得当 $n \geq M$ 时 $|x_n| \leq r_n$, 当 $n \geq N$ 时 $|r_n| < \varepsilon$. 于是当 $n \geq \max\{M,N\}$ 时 $|x_n| \leq r_n \leq |r_n| < \varepsilon$.
\end{proof}

\subsection{基本法则}

\begin{proposition}\label{prop:addition-scalar-multiplication-in-c}
    设 $(x_n)$ 和 $(y_n)$ 是 $\K$ 中的收敛数列且 $\lim x_n = a$, $\lim y_n = b$, $\alpha \in \K$. 则
    \begin{enumerate}
        \item 数列 $(x_n + y_n)$ 收敛且 $\lim (x_n + y_n) = a + b$.
        \item 数列 $(\alpha x_n)$ 收敛且 $\lim \alpha x_n = \alpha a$.
    \end{enumerate}
\end{proposition}

\begin{proof}
    任取 $\varepsilon > 0$.

    1. 存在 $M,N \in \N$ 使得当 $n \geq M$ 时 $|x_n - a| < \varepsilon/2$, 当 $n \geq N$ 时 $|y_n - b| < \varepsilon/2$. 于是
    $$
    |(x_n + y_n) - (a + b)| \leq |x_n - a| + |y_n - b| < \frac{\varepsilon}{2}+ \frac{\varepsilon}{2} = \varepsilon\ ,\quad n \geq \max\{M,N\}\ .
    $$

    2. 若 $\alpha = 0$ 显然成立, 假设 $\alpha \neq 0$. 则存在 $N \in \N$ 使得当 $n \geq N$ 时 $|x_n - a| < \varepsilon / |\alpha|$. 于是
    $$
    |\alpha x_n - \alpha a| = |\alpha||x_n - a| < |\alpha| \frac{\varepsilon}{|\alpha|} = \varepsilon\ ,\quad n \geq N\ .
    $$
\end{proof}

\begin{remark}\label{rem:c-is-vector-space}
    将 $\K$ 中的所有收敛数列记作
    $$
    c \coloneqq c(\K) \coloneqq \set{(x_n) \in s}{(x_n)\ \text{收敛}}\ .
    $$
    于是, 由命题 \ref{prop:addition-scalar-multiplication-in-c} 可以得到: $c$ 是 $s$ 的子空间且函数
    $$
    \lim \colon c \to \K\ ,\quad (x_n) \mapsto \lim x_n
    $$
    是线性的. 显然 $\ker \lim = c_0$, 于是, 由例 \ref{eg:vector-spaces}.3 可知, $c_0$ 是 $c$ 的子空间.
\end{remark}

下面的命题表明, 对于收敛数列, 我们可以 ``逐项'' 相乘.

\begin{proposition}\label{prop:multiplication-in-c}
    设 $(x_n)$ 和 $(y_n)$ 是 $\K$ 中的数列.
    \begin{enumerate}
        \item 若 $(x_n)$ 是无穷小量且 $(y_n)$ 有界, 则 $(x_n y_n)$ 是无穷小量.
        \item 若 $\lim x_n = a$, $\lim y_n = b$, 则 $\lim x_n y_n = ab$.
    \end{enumerate}
\end{proposition}

\begin{proof}
    1. 由于 $(y_n)$ 有界, 故存在 $M > 0$ 使得对于任意 $n \in \N$ 都有 $|y_n| \leq M$. 任取 $\varepsilon > 0$. 由于 $(x_n)$ 是无穷小量, 故存在 $N \in \N$ 使得当 $n \geq N$ 时 $|x_n| < \varepsilon / M$. 于是
    $$
    |x_n y_n| = |x_n| |y_n| < \frac{\varepsilon}{M} M = \varepsilon\ ,\quad n \geq N\ .
    $$
    2. 由于 $(x_n)$ 收敛到 $a$, 故 $(x_n - a)$ 是无穷小量. 由命题 \ref{prop:convergent-sequence-is-bounded} 可知, $(y_n)$ 有界. 于是由 1 可得 $\bigl((x_n - a)y_n\bigr)$ 是无穷小量, 同理可得 $\bigl(a(y_n - b)\bigr)$ 是无穷小量. 由命题 \ref{prop:addition-scalar-multiplication-in-c} 可知
    $$
    \lim (x_n y_n - ab) = \lim \bigl((x_n - a)y_n + a(y_n - b)\bigr) = 0\ ,
    $$
    于是 $(x_n y_n)$ 收敛到 $ab$.
\end{proof}

\begin{remark}\label{rem:c-is-algebra}
    \begin{enumerate}
        \item 命题 \ref{prop:multiplication-in-c}.1 中, 关于序列 $(y_n)$ 有界的假设不能去除.
        \item 由例 \ref{eg:algebras}.2 可知 $s$ 是 $\K$-代数. 于是, 结合注 \ref{rem:c-is-vector-space} 和命题 \ref{prop:multiplication-in-c}.2 可以得到: $c$ 是 $s$ 的子代数且函数
        $$
        \lim \colon c \to \K\ ,\quad (x_n) \mapsto \lim x_n
        $$
        是代数同态. 最后, 由命题 \ref{prop:convergent-sequence-is-bounded} 和命题 \ref{prop:multiplication-in-c}.1 可知 $c_0$ 也是 $c$ 的理想.
    \end{enumerate}
\end{remark}

\begin{proof}
    1. 设 $x_n \coloneqq 1/n$, $y_n \coloneqq n^2$. 则 $(x_n)$ 是无穷小量, 但 $(x_n y_n)$ 发散.
\end{proof}

下面的命题和注 \ref{rem:c-is-algebra}.2 表明, 商数列的极限是分子的极限除以分母的极限, 若这些极限存在的话.

\begin{proposition}\label{prop:division-in-c}
    设 $(x_n)$ 是 $\K$ 中的收敛数列且 $\lim x_n = a \neq 0$. 则 $(x_n)$ 的几乎所有项都非零且 $\lim 1/x_n = 1/a$.
\end{proposition}

\begin{proof}
    存在 $N \in \N$ 使得当 $n \geq N$ 时 $|x_n - a| < |a|/2$. 由反三角不等式可得
    $$
    |a| - |x_n| \leq \abs[\big]{|a| - |x_n|} \leq |x_n - a| < \frac{|a|}{2}\ ,\quad n \geq N\ ,
    $$
    即当 $n \geq N$ 时 $|x_n| > |a|/2 > 0$, 即 $(x_n)$ 的几乎所有项都非零. 而
    $$
    \abs[\Big]{\frac{1}{x_n} - \frac{1}{a}} = \frac{|x_n - a|}{|a| |x_n|} < \frac{2}{|a|^2} |x_n - a|\ ,\quad n \geq N\ ,
    $$
    由于 $(x_n)$ 收敛到 $a$, 因此 $(x_n - a)$ 是无穷小量, 进一步, $2|x_n - a| / |a|^2$ 是无穷小量. 于是由注 \ref{rem:null-sequences}.3 可得 $(1/x_n - 1/a)$ 是无穷小量, 故 $\lim 1/x_n = 1/a$.
\end{proof}

\subsection{比较审敛法}

接下来我们将研究收敛实数列与 $\R$ 的序结构之间的关系. 我们将推导出夹逼定理---这是一种简单但非常有效的判定实数列极限的方法.

\begin{proposition}[保序性]\label{prop:limits-preserve-order}
    设 $(x_n)$ 和 $(y_n)$ 是 $\R$ 中的收敛数列且有无穷多项 $n \in \N$ 使得 $x_n \leq y_n$. 则
    $$
    \lim x_n < \lim y_n\ .
    $$
\end{proposition}

\begin{proof}
    设 $\lim x_n = a$, $\lim y_n = b$. 假设 $a > b$. 令 $\varepsilon = a-b$, 故存在 $M,N \in \N$ 使得当 $n \geq M$ 时 $x_n > a - \varepsilon / 2$, $n \geq N$ 时 $y_n < b + \varepsilon / 2$, 故存在 $n \geq \max\{M,N\}$ 使得
    $$
    a - \varepsilon / 2 < x_n \leq y_n < b + \varepsilon / 2\ ,
    $$
    于是 $\varepsilon = a - b < \varepsilon$, 矛盾.
\end{proof}

\begin{remark}
    命题 \ref{prop:limits-preserve-order} 在严格不等于下不成立, 即若有无穷多项 $n \in \N$ 使得 $x_n < y_n$ 并不蕴含 $\lim x_n < \lim y_n$.
\end{remark}

\begin{proof}
    设 $x_n \coloneqq -1/n$, $y_n \coloneqq 1/n$. 则对于所有 $n \in \N^\ast$ 都有 $x_n < y_n$, 但 $\lim x_n = \lim y_n = 0$.
\end{proof}

\begin{proposition}[夹逼定理]
    设 $(x_n)$, $(y_n)$ 和 $(z_n)$ 是实数列且对于几乎所有 $n \in \N$ 都有 $x_n \leq y_n \leq z_n$. 若 $\lim x_n = \lim z_n = a$, 则 $\lim y_n = a$.
\end{proposition}

\begin{proof}
    设 $M \in \N$ 使得当 $n \geq M$ 时 $x_n \leq y_n \leq z_n$. 任取 $\varepsilon > 0$, 故存在 $N_1, N_2 \in \N$ 使得当 $n \geq N_1$ 时 $a - \varepsilon < x_n$, 当 $n \geq N_2$ 时 $z_n < a + \varepsilon$. 于是
    $$
    a - \varepsilon < x_n \leq y_n \leq z_n < a + \varepsilon\ ,\quad n \geq \max\{M, N_1, N_2\}\ ,
    $$
    即当 $n \geq \max\{M, N_1, N_2\}$ 时 $|y_n - a| < \varepsilon$.
\end{proof}

\subsection{复数列}

若 $(x_n)$ 是 $\R$ 中的收敛数列且 $\lim x_n = a$, 则 $\lim |x_n| = |a|$. 实际上, 若 $(x_n)$ 是无穷小量, 则是注 \ref{rem:null-sequences}.1 的情况. 若 $a > 0$, 则 $(x_n)$ 的几乎所有项都为正 (见练习 2.2.\ref{ex:limits-preserve-sign}), 于是 $\lim |x_n| = \lim x_n = a = |a|$. 最后, 若 $a < 0$, 则 $(x_n)$ 的几乎所有项都为负, 于是
$$
\lim |x_n| = \lim (-x_n) = - \lim x_n = -a = |a|\ .
$$

下面的命题表明这对复数列同样成立.

\begin{proposition}
    设 $(x_n)$ 是 $\K$ 中的收敛数列且 $\lim x_n = a$. 则 $(|x_n|)$ 收敛且 $\lim |x_n| = |a|$.
\end{proposition}

\begin{proof}
    任取 $\varepsilon > 0$. 故存在 $N \in \N$ 使得
    $$
    \abs[\big]{|x_n| - |a|} \leq |x_n - a| < \varepsilon\ ,\quad n \geq N\ ,
    $$
    因此 $(|x_n|)$ 收敛到 $|a|$.
\end{proof}

$\C$ 中的收敛数列可以用其对应的实部与虚部的收敛性来刻画.

\begin{proposition}\label{prop:convergence-of-real-and-imaginary-parts}
    设 $(x_n)$ 是 $\C$ 中的数列. 以下命题是等价的.
    \begin{enumerate}
        \item $(x_n)$ 收敛.
        \item $(\Re x_n)$ 和 $(\Im x_n)$ 收敛.
    \end{enumerate}
    此时有,
    $$
    \lim x_n = \lim \Re x_n + \ii \lim \Im x_n\ .
    $$
\end{proposition}

\begin{proof}
    1. $\implies$ 2. 设 $\lim x_n = x$. 任取 $\varepsilon > 0$. 故存在 $N \in \N$ 使得
    $$
    |\Re x_n - \Re x| = |\Re(x_n - x)| \leq |x_n - x| < \varepsilon\ ,\quad n \geq N\ ,
    $$
    因此 $(\Re x_n)$ 收敛到 $\Re x$. 同理可得 $(\Im x_n)$ 收敛到 $\Im x$.

    2. $\implies$ 1. 设 $\lim \Re x_n = a$, $\lim \Im x_n = b$. 任取 $\varepsilon > 0$. 故存在 $M,N \in \N$ 使得当 $n \geq M$ 时 $|\Re x_n - a| < \varepsilon / \sqrt{2}$, 当 $n \geq N$ 时 $|\Im x_n - b| < \varepsilon / \sqrt{2}$, 于是
    \begin{align*}
        |x_n - (a + \ii b)| &= |(\Re x_n - a) + \ii (\Im x_n - b)| \\
        &= \sqrt{(\Re x_n - a)^2 + (\Im x_n - b)^2} < \sqrt{\frac{\varepsilon^2}{2} + \frac{\varepsilon^2}{2}} = \varepsilon\ ,\quad n \geq \max\{M,N\}\ ,
    \end{align*}
    因此 $x_n$ 收敛到 $a + \ii b$.
\end{proof}

我们用一些例子来说明上述命题, 以此结束本节.

\begin{example}
    \begin{enumerate}
        \item $\displaystyle \lim_{n \to \infty} \frac{n+1}{n+2} = 1$.
        \item $\displaystyle \lim_{n \to \infty} \Bigr(\frac{3n}{(2n+1)^2} + \ii \frac{2n^2}{n^2 + 1}\Bigl) = 2 \ii$.
        \item $\displaystyle \Bigl(\frac{\ii^n}{1 + \ii n}\Bigr)$ 是 $\C$ 中的无穷小量.
    \end{enumerate}
\end{example}

\begin{proof}
    1. 由于 $\lim 1/(n+2) = 0$, 于是由命题 \ref{prop:addition-scalar-multiplication-in-c} 可知
    $$
    \lim \frac{n+1}{n+2} = \lim \Bigl(1 - \frac{1}{n+2}\Bigr) = 1 - \lim \frac{1}{n+2} = 1\ .
    $$

    2. 令
    $$
    x_n \coloneqq \frac{3n}{(2n+1)^2} + \ii \frac{2n^2}{n^2 + 1}\ .
    $$
    其中
    $$
    \Re x_n = \frac{3n}{(2n+1)^2} = \frac{3/n}{(2+1/n)^2}\ ,
    $$
    由于 $\lim(2 + 1/n) = 2$, 于是由命题 \ref{prop:multiplication-in-c} 可知 $\lim(2 + 1/n)^2 = 4$, 而 $(3/n)$ 是无穷小量, 因此由命题 \ref{prop:multiplication-in-c} 和命题 \ref{prop:division-in-c} 可知 $\lim \Re x_n = 0$.
    $$
    \Im x_n = \frac{2n^2}{n^2 + 1} = \frac{2}{1 + 1/n^2}\ ,
    $$
    而 $\lim (1 + 1/n^2) = 1$, 于是由命题 \ref{prop:addition-scalar-multiplication-in-c} 和命题 \ref{prop:division-in-c} 可知 $\lim \Im x_n = 2$. 最后由 \ref{prop:convergence-of-real-and-imaginary-parts} 可得 $\lim x_n = 2 \ii$.

    3. 令
    $$
    x_n \coloneqq \frac{\ii^n}{1 + \ii n} = \frac{1}{n} \frac{\ii^n}{\ii + 1/n}\ .
    $$
    注意到
    $$
    \abs[\Big]{\ii + \frac{1}{n}} = \sqrt{1 + \frac{1}{n^2}} \geq 1\ ,\quad n \in \N^\ast\ ,
    $$
    于是
    $$
    \abs[\Big]{\frac{\ii^n}{\ii + 1/n}} = \frac{|\ii^n|}{|\ii + 1/n|} = \frac{1}{|\ii + 1/n|} \leq 1\ ,\quad n \in \N^\ast\ ,
    $$
    因此 $\bigl(\ii^n/(\ii + 1/n)\bigr)$ 有界, 由命题 \ref{prop:multiplication-in-c} 可知 $(x_n)$ 是无穷小量.
\end{proof}

\subsection{练习}

\begin{exercises}
    判断下列 $\R$ 中的数列 $(x_n)$ 是否收敛. 若收敛计算其极限.
    \begin{enumerate}
        \item $x_n \coloneqq \sqrt{n+1} - \sqrt{n}$.
        \item $x_n \coloneqq (-1)^n \sqrt{n} (\sqrt{n+1} - \sqrt{n})$.
        \item $\displaystyle x_n \coloneqq \frac{1 + 2 + 3 + \cdots + n}{n+2} - \frac{n}{2}$.
        \item $\displaystyle x_n \coloneqq \frac{(2 - 1 / \sqrt{n})^{10} - (1 + 1 / n^2)^{10}}{1 - 1 / n^2 - 1 / \sqrt{n}}$.
        \item $x_n \coloneqq (100 + 1/n)^2$.
    \end{enumerate}
\end{exercises}

\begin{proof}
    1. 收敛到 $0$.

    2. 发散.

    3. 收敛到 $- 1/2$.

    4. 收敛到 $2^{10} - 1$.

    5. 收敛到 $100^2$.
\end{proof}

\begin{exercises}
    使用 $(1+1)^n$ 的二项式展开, 证明 $(n^3 / 2^n)$ 是无穷小量.
\end{exercises}

\begin{proof}
    注意到
    $$
    0 \leq \frac{n^3}{2^n} = \frac{n^3}{\sum_{k=0}^n \binom{n}{k}} \leq \frac{n^3}{\binom{n}{4}}\ ,\quad n \geq 4\ .
    $$
    而当 $n \geq 6$ 时 $n - 3 \geq n/2$, 于是
    $$
    \binom{n}{4} = \frac{n(n-1)(n-2)(n-3)}{24} \geq \frac{(n/2)^4}{24}\ ,\quad n \geq 6\ ,
    $$
    因此
    $$
    \frac{n^3}{\binom{n}{4}} \leq \frac{n^3}{(n/2)^4 / 24} = \frac{384}{n} \to 0\ .
    $$
    故由夹逼定理可知 $n^3 / 2^n \to 0$.
\end{proof}

\begin{exercises}[保号性]\label{ex:limits-preserve-sign}
    设实数列 $(x_n)$ 有正极限. 证明该数列的几乎所有项都为正.
\end{exercises}

\begin{proof}
    设 $\lim x_n = a$. 故存在 $N \in \N$ 使得当 $n \geq N$ 时 $|x_n - a| < a/2$, 于是
    $$
    -\frac{a}{2} < x_n - a < \frac{a}{2}\ ,\quad n \geq N\ ,
    $$
    即当 $n \geq N$ 时 $x_n > a/2 > 0$.
\end{proof}

\begin{exercises}
    设 $(x_j)$ 是 $\K$ 中的收敛数列且以 $a$ 为极限. 证明
    $$
    \lim_{n \to \infty} \frac{1}{n} \sum_{j=1}^n x_j = a\ .
    $$
\end{exercises}

\begin{proof}
    只用证
    $$
    \abs[\bigg]{\frac{1}{n} \sum_{j=1}^n x_j - a} \to 0\ .
    $$
    注意到
    $$
    0 \leq \abs[\bigg]{\frac{1}{n} \sum_{j=1}^n x_j - a} = \abs[\bigg]{\frac{1}{n} \sum_{j=1}^n (x_j - a)} \leq \frac{1}{n} \sum_{j=1}^n |x_j - a|\ ,
    $$
    任取 $\varepsilon > 0$. 由于 $\lim x_j = a$, 故存在 $N \in \N^\ast$ 使得当 $j \geq N$ 时 $|x_j - a| < \varepsilon$, 于是
    $$
    \frac{1}{n} \sum_{j=1}^n |x_j - a| = \frac{1}{n} \sum_{j=1}^{N-1} |x_j - a| + \frac{1}{n} \sum_{j=N}^n |x_j - a|\ .
    $$
    令
    $$
    A_n \coloneqq \frac{1}{n} \sum_{j=1}^{N-1} |x_j - a|\ ,\quad B_n \coloneqq \frac{1}{n} \sum_{j=N}^n |x_j - a|\ .
    $$
    由于 $\sum_{j=1}^{N-1} |x_j - a|$ 是一个固定的有限和, 因此 $\lim A_n = 0$. 而
    $$
    |B_n| = \frac{1}{n} \sum_{j=N}^n |x_j - a| < \frac{1}{n} \sum_{j=N}^n \varepsilon = \frac{n - N + 1}{n} \varepsilon \leq \varepsilon\ ,\quad n \geq N\ ,
    $$
    因此 $\lim B_n = 0$. 于是
    $$
    \frac{1}{n} \sum_{j=1}^n |x_j - a| = A_n + B_n \to 0\ ,
    $$
    故由夹逼定理可知
    $$
    \abs[\bigg]{\frac{1}{n} \sum_{j=1}^n x_j - a} \to 0\ .
    $$
\end{proof}

\begin{exercises}
    设 $\K^m\ (m \in \N^\ast)$ 是配备积度量 (见例 \ref{eg:metric}.5) 的度量空间,
    $$
    s(\K^m) \coloneqq (\K^m)^\N\ ,\quad c(\K^m) \coloneqq \set{(x_n) \in s(\K^m)}{(x_n)\ \text{收敛}}\ .
    $$
    证明
    \begin{enumerate}
        \item $c(\K^m)$ 是 $s(\K^m)$ 的子空间.
        \item 函数
        $$
        \lim \colon c(\K^m) \to \K^m\ ,\quad (x_n) \mapsto \lim x_n
        $$
        是线性的.
        \item 设 $(\lambda_n) \in c(\K)$, $(x_n) \in c(\K^m)$ 且 $\lim \lambda_n = \alpha$, $\lim x_n = a$. 则 $\lim \lambda_n x_n = \alpha a \in \K^m$ (提示: 例 \ref{eg:ez-convergent-sequence}.5).
    \end{enumerate}
\end{exercises}

\begin{proof}
    1. 和 2. 设 $(x_n), (y_n) \in c(\K^m)$ 且 $\lim x_n = a$, $\lim y_n = b$, $\alpha \in \K^m$. 故对于每个 $j \in \{1, \ldots, m\}$ 都有 $(x_n^j)$ 收敛到 $a^j$ 和 $(y_n^j)$ 收敛到 $b^j$. 而在 $\K$ 上时, 对于每个 $j \in \{1, \ldots, m\}$ 都有 $(x_n^j + y_n^j)$ 收敛到 $a^j + b^j$, 因此 $(x_n + y_n)$ 收敛到 $a + b$. 同理可得 $(\alpha x_n)$ 收敛到 $\alpha a$. 这说明了 $c(\K^m)$ 是 $s(\K^m)$ 的子空间且 $\lim$ 是线性的.

    3. 对于每个 $j \in \{1, \ldots, m\}$ 都有 $(x_n^j)$ 收敛到 $a^j$. 而在 $\K$ 上时, 对于每个 $j \in \{1, \ldots, m\}$ 都有 $(\lambda_n x_n^j)$ 收敛到 $\alpha a^j$, 因此 $\lambda_n x_n$ 收敛到 $(\alpha a^1, \ldots, \alpha a^m) = \alpha a$.
\end{proof}

\begin{exercises}
    设 $(x_n)$ 是 $\K$ 中的收敛数列且以 $a$ 为极限, $p,q \in \K[X]$ 且 $q(a) \neq 0$. 证明对于有理函数 $r \coloneqq p/q$, 有
    $$
    \lim_{n \to \infty} r(x_n) = r(a)\ .
    $$
    特别的, 对于每个多项式 $p$, 数列 $\bigl(p(x_n)\bigr)$ 都收敛到 $p(a)$.
\end{exercises}

\begin{exercises}
    设 $(x_n)$ 是 $(0, \infty)$ 中的收敛数列且以 $x \in (0, \infty)$ 为极限. 证明
    $$
    \lim_{n \to \infty} (x_n)^r = x^r\quad (r \in \Q)\ .
    $$
    (提示: 当 $r = 1/q$ 时, 令 $y_n \coloneqq (x_n)^r$, $y \coloneqq x^r$. 则
    $$
    x_n - x = (y_n - y) \sum_{k=0}^{q-1} y_n^k y^{q-1-k}\ ,
    $$
    见练习 1.8.\ref{ex:difference-of-powers-formula}.)
\end{exercises}

\begin{proof}
    $r = 0$ 时, 显然成立. 令 $r = p/q\ (p \in \Z^\ast, q \in \N^\ast)$. 令 $y_n \coloneqq x_n^{1/q}$, $y \coloneqq x^{1/q}$, 于是
    $$
    x_n - x = y_n^q - y^q = (y_n - y) \sum_{k=0}^{q-1} y_n^k y^{q-1-k}\ ,
    $$
    令
    $$
    A_n \coloneqq \sum_{k=0}^{q-1} y_n^k y^{q-1-k} = \sum_{k=0}^{q-1} x_n^{k/q} x^{(q-1-k)/q}\ ,
    $$
    其中对于每个 $k \in \{0, \ldots, q-1\}$ 都有 $x_n^{k/q} x^{(q-1-k)/q} > 0$, 因此
    $$
    A_n > x^{(q-1)/q} > 0\ ,\quad n \in \N\ ,
    $$
    故数列 $(1 / A_n)$ 有界. 注意到 $(x_n - x)$ 是无穷小量, 而
    $$
    y_n - y = (x_n - x) \frac{1}{A_n}\ ,
    $$
    因此 $(y_n - y)$ 也是无穷小量, 即 $x_n^{1/q}$ 收敛到 $x^{1/q}$. 当 $p > 0$ 时,
    $$
    \lim_{n \to \infty} x_n^p = \lim_{n \to \infty} x_n \cdots x_n = x \cdots x = x^p\ .
    $$
    当 $p < 0$ 时, 令 $s \coloneqq -p$, 于是
    $$
    \lim_{n \to \infty} x_n^p = \lim_{n \to \infty} \frac{1}{x_n^s} = \lim_{n \to \infty} \frac{1}{x_n} \cdots \frac{1}{x_n} = \frac{1}{x} \cdots \frac{1}{x} = \frac{1}{x^s} = x^p\ .
    $$
    最后可得,
    $$
    \lim_{n \to \infty} x_n^r = \lim_{n \to \infty} x_n^{p/q} = \lim_{n \to \infty} (x_n^{1/q})^p = (x^{1/q})^p = x^r\ .
    $$
\end{proof}

\begin{exercises}\label{ex:null-sequences-always-smaller}
    设 $(x_n)$ 是 $(0, \infty)$ 中的数列. 证明 $(1 / x_n)$ 是无穷小量, 当且仅当对于每个 $K > 0$ 都存在 $N \in \N$ 使得当 $n \geq N$ 时 $x_n > K$.
\end{exercises}

\begin{proof}
    $\implies$. 设 $(1 / x_n)$ 是无穷小量. 任取 $K > 0$. 故存在 $N \in \N$ 使得
    $$
    \abs[\Big]{\frac{1}{x_n}} = \frac{1}{x_n} < \frac{1}{K}\ ,\quad n \geq N\ ,
    $$
    即当 $n \geq N$ 时 $x_n > K$.

    $\impliedby$. 设对于每个 $K > 0$ 都存在 $N \in \N$ 使得当 $n \geq N$ 时 $x_n > K$. 任取 $\varepsilon > 0$. 故存在 $N \in \N$ 使得当 $n \geq N$ 时 $x_n > 1 / \varepsilon$, 即
    $$
    \frac{1}{x_n} = \abs[\Big]{\frac{1}{x_n}} < \varepsilon\ ,\quad n \geq N\ ,
    $$
    故 $(1 / x_n)$ 是无穷小量.
\end{proof}

\begin{exercises}
    设 $(a_n)$ 是 $(0, \infty)$ 中的数列,
    $$
    x_n \coloneqq \sum_{k=0}^n (a_k + 1 / a_k)\ ,\quad n \in \N\ .
    $$
    证明 $(1 / x_n)$ 是无穷小量. (提示: 当 $a>0$ 时 $a + 1/a \geq 2$ (见练习 1.8.\ref{ex:inequality-on-ordered-ﬁeld}), 然后利用练习 2.2.\ref{ex:null-sequences-always-smaller}.)
\end{exercises}

\begin{proof}
    任取 $K > 0$. 显然 $(x_n)$ 也是 $(0, \infty)$ 中的数列. 注意到,
    $$
    x_n = \sum_{k=0}^n (a_k + 1 / a_k) \geq \sum_{k=0}^n 2 = 2n + 2\ ,\quad n \in \N\ ,
    $$
    由 Archimedes 公理可知, 存在 $N \in \N$ 使得 $2N + 2 > K$, 于是当 $n \geq N$ 时 $x_n \geq 2n + 2 > K$, 于是 $(1 / x_n)$ 是无穷小量.
\end{proof}

\newpage

\section{赋范向量空间}